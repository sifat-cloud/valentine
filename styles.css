/* Dreamy redesign: pastel gradients, airy spacing, and gentle motion */
:root{
  --bg-1: #fff0f6;
  --bg-2: #fff9fb;
  --rose-1: #ff7a8a;
  --rose-2: #ff4d6d;
  --muted: #8f6f76;
  --card: #ffffff;
  --text: #3b2d2d;
  --glass: rgba(255,255,255,0.85);
  --shadow: 0 18px 40px rgba(20,8,12,0.07);
  --radius: 18px;
}
*{box-sizing:border-box}
html,body{height:100%;margin:0;padding:0;font-family:Inter,system-ui,Segoe UI,Roboto,'Helvetica Neue',Arial;color:var(--text);-webkit-font-smoothing:antialiased}
body{
  background:radial-gradient(1200px 600px at 10% 10%, rgba(255,109,137,0.06), transparent 10%),
             radial-gradient(900px 500px at 90% 90%, rgba(255,210,230,0.06), transparent 10%),
             linear-gradient(135deg,var(--bg-1),var(--bg-2));
  min-height:100vh;display:flex;align-items:center;justify-content:center;padding:3rem;transition:background .25s ease,filter .25s ease;
}
.hero{width:100%;display:flex;align-items:center;justify-content:center}
.card{
  width:min(820px,94%);background:linear-gradient(180deg,var(--glass),rgba(255,255,255,0.96));border-radius:var(--radius);padding:3rem 2.5rem;box-shadow:var(--shadow);text-align:center;position:relative;overflow:visible;backdrop-filter:blur(4px);
}
.card-head h1{font-size:2.4rem;margin:0;color:var(--rose-2);letter-spacing:0.4px}
.card-head .subhead{margin:.35rem 0 1rem;color:var(--muted);font-size:1rem}
.heart-stage{position:relative;display:flex;align-items:center;justify-content:center;margin:8px 0 18px}
.heart{font-size:88px;color:var(--rose-2);transform-origin:center;display:inline-block;filter:drop-shadow(0 10px 20px rgba(255,77,109,0.08));transition:transform .36s cubic-bezier(.2,.9,.15,1),opacity .3s}
.heart.animate{animation:float 3s ease-in-out infinite}
@keyframes float{0%{transform:translateY(0) scale(1)}50%{transform:translateY(-8px) scale(1.04)}100%{transform:translateY(0) scale(1)}}
.decor.hearts{position:absolute;right:12%;top:-6px;font-size:22px;opacity:.12}
.cta{display:flex;gap:1rem;align-items:center;justify-content:center;margin-bottom:14px}
.btn{padding:.95rem 1.6rem;border-radius:999px;border:0;cursor:pointer;font-weight:800;box-shadow:0 8px 30px rgba(19,9,9,0.06);transition:transform .12s ease,box-shadow .12s ease}
.btn.small{padding:.5rem .9rem;font-size:.92rem}
.yes{background:linear-gradient(90deg,var(--rose-1),var(--rose-2));color:#fff}
.no.ghost{background:transparent;color:var(--rose-2);border:2px solid rgba(255,77,109,0.12);padding:.8rem 1.4rem}
.btn:active{transform:translateY(2px)}
.spark{margin-left:.45rem;opacity:.9}
.status{color:var(--muted);margin-top:6px;font-style:italic}
.controls{display:flex;gap:.6rem;align-items:center;justify-content:center;margin-top:14px}
.link{background:transparent;border:0;color:var(--rose-2);cursor:pointer;margin:0 .25rem;font-weight:700}
.card-foot{margin-top:1.25rem;color:#8b6b6b;font-size:.9rem}

/* sad state styles */
body.sad{filter:grayscale(.5) contrast(.92) brightness(.9)}
.sad-overlay{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;background:linear-gradient(rgba(8,6,6,0.36), rgba(8,6,6,0.28));opacity:0;pointer-events:none;transition:opacity .18s ease}
.sad-overlay.show{opacity:1;pointer-events:auto}
.sad-box{background:linear-gradient(180deg,#fff,#fff);padding:1.25rem;border-radius:14px;text-align:center;box-shadow:0 30px 80px rgba(8,6,6,0.24);max-width:360px}
.sad-box .tears{font-size:44px;margin-bottom:.6rem}
.sad-box p{margin:.25rem 0 .6rem;color:var(--muted);font-weight:600}
.sad-box .btn{margin-top:.5rem}

/* modal and celebrate */
.modal{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;background:rgba(0,0,0,0.42);opacity:0;pointer-events:none;transition:opacity .18s ease}
.modal.show{opacity:1;pointer-events:auto}
.modal-content{background:rgba(255,255,255,0.98);padding:1.25rem;border-radius:14px;max-width:520px;text-align:center;position:relative;box-shadow:0 26px 70px rgba(9,6,12,0.16)}
.celebrate-area{display:flex;flex-direction:column;align-items:center;gap:.5rem}
.celebrate-gif{width:260px;height:160px;background-size:cover;border-radius:10px}
.close{position:absolute;right:10px;top:10px;background:transparent;border:0;font-size:1.3rem;cursor:pointer}
.share{display:inline-block;margin-top:8px;padding:.55rem 1rem;background:linear-gradient(90deg,var(--rose-1),var(--rose-2));color:#fff;border-radius:10px;text-decoration:none}

/* customize pane */
.customize{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;background:rgba(0,0,0,0.38);opacity:0;pointer-events:none;transition:opacity .18s ease}
.customize.show{opacity:1;pointer-events:auto}
.customize-content{background:rgba(255,255,255,0.98);padding:1.25rem;border-radius:12px;max-width:520px;width:94%;position:relative}
.customize-content input{width:100%;padding:.55rem;border-radius:8px;border:1px solid #f0e9ec;margin-top:.25rem}
.custom-actions{display:flex;gap:.5rem;justify-content:flex-end;margin-top:.75rem}

/* confetti canvas */
#confettiCanvas{position:fixed;left:0;top:0;pointer-events:none;z-index:9999}

@media (max-width:520px){
  .card{padding:1.5rem}
  .heart{font-size:64px}
  .card-head h1{font-size:1.6rem}
  .celebrate-gif{width:220px}
}
